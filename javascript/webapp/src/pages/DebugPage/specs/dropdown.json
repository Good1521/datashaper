{
	"$schema": "../../../../../../schema/workflow.json",
	"name": "Dropdown",
	"description": "Aggregates daily data to monthly averages to demonstrate automatic Dropdowns.",
	"steps": [
		{
			"id": "n1",
			"verb": "derive",
			"inputs": { "source": { "node": "data/stocks.csv" } },
			"outputs": { "target": "output-table-0" },
			"args": {
				"to": "Month Key",
				"column1": "Symbol",
				"operator": "+",
				"column2": "Month"
			}
		},
		{
			"id": "n2",
			"verb": "aggregate",
			"inputs": { "source": { "node": "output-table-0" } },
			"outputs": { "target": "output-table-1" },
			"args": {
				"to": "Monthly Average",
				"groupby": "Month Key",
				"column": "Close",
				"operation": "mean"
			}
		},
		{
			"id": "n3",
			"verb": "lookup",
			"inputs": { "source": { "node": "output-table-1" } },
			"outputs": { "target": "output-table-2" },
			"args": {
				"columns": ["Symbol"],
				"other": "output-table-0",
				"on": ["Month Key"]
			}
		},
		{
			"id": "n4",
			"verb": "aggregate",
			"inputs": { "source": { "node": "output-table-2" } },
			"outputs": { "target": "output-table-3" },
			"args": {
				"to": "Monthly List",
				"groupby": "Symbol",
				"column": "Monthly Average",
				"operation": "array_agg"
			}
		}
	]
}
